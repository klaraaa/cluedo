function createRoom(a,b,c,d){var e=[['min X: 0','min Y: 0'],['max X: 5','max Y: 5']],f=[['kitchen00','kitchen11']],g=[['library00','library11']],h=[['lounge00','lounge11']],i=[[e,f],[g,h]];console.log('hallen ligger i: '+i[0][0]),console.log('hallens max värde har poitionen: '+i[posX][posY])}function checkRoom(){playing!==!1&&(null!==grid[posX][posY]?($('#room').html('<p>You have reached the '+grid[posX][posY]+'</p>'),$('#guess').show(),$('#blame').show()):($('#room').html('<p>Go to a room.</p>'),$('#guess').hide(),$('#blame').hide()))}function randInt(a){return Math.floor(Math.random()*a-1+1)}function createAnswer(){killerInt=randInt(suspects.length),weaponInt=randInt(tools.length),roomInt=randInt(rooms.length),answerCards.push(suspects[killerInt],tools[weaponInt],rooms[roomInt]),console.log('answerCards är: '),console.log(answerCards),suspects.splice(killerInt,1),rooms.splice(roomInt,1),tools.splice(weaponInt,1),console.log('Antal mistänkta: '+suspects.length),console.log('Rooms to investigate: '+rooms.length),console.log('Antal möjliga vapen: '+tools.length),dealCards()}function dealCards(){suspect=randInt(suspects.length),weapon=randInt(tools.length),room=randInt(rooms.length),playerCards.push(suspects[suspect],tools[weapon],rooms[room]),$('#response').append('<p>Du vet att '+playerCards[0]+' är oskyldig, att '+playerCards[1]+' inte är mordvapnet och att '+playerCards[2]+' inte är brottsplatsen.</p>'),suspects.splice(suspect,1),tools.splice(weapon,1),rooms.splice(room,1)}function init(){tot=0,posX=gridSize/2,posY=gridSize/2,gridSize=20,tools=['Dagger','Candlestick','Revolver'],suspects=['Colonel Mustard','Professor Plum','Mrs. Peacock'],rooms=['Hall','Kitchen','Lounge','Library'],playerCards=[],answerCards=[],steps=0,playing=!1}var tot=0,gridSize=20,posX=0,posY=0,grid=[],tools=['Dagger','Candlestick','Revolver'],suspects=['Colonel Mustard','Professor Plum','Mrs. Peacock'],rooms=['Hall','Kitchen','Lounge','Library'],weapon,crimescene,killer,keystate,playerCards=[],answerCards=[],steps=0,playing=!1,UpArrow=38,DownArrow=40,LeftArrow=37,RightArrow=39,DiceKey=32;createRoom('Hall','Kitchen','Library','Lounge');var person={name:'klara',hint:'tips'},garderob={name:'jacka',name2:'byxor'},kitchen=[[[garderob,person]]],halldoor=['nyckelhängare','fönster'],librarydoor=['bokhylla','fåtölj'],loungedoor=['bord','gäst'],board=[[[kitchen]],[halldoor],[librarydoor],[loungedoor]];console.log('köket i board: person i kök: tips från '+board[0][0][0][0]+': '+board[0][0][0][0][0].name),$(document).ready(function(){keystate={},document.addEventListener('keydown',function(a){keystate[a.keyCode]=!0}),document.addEventListener('keyup',function(a){delete keystate[a.keyCode]}),$('#start').on('click',function(){playing===!1?(playing=!0,$('#player').show(),$('#response').append('<p>Nu kan du börja spela!</p>'),createAnswer()):(init(),$('#player').hide(),$('#response').html('<p>Spelet är avslutat.</p>'))}),keystate[DiceKey]&&(steps=Math.floor(6*Math.random())+1,$('#stepCounter').html('<p>Du fick '+steps+' slag!</p>')),steps>=1&&6>=steps&&playing===!0&&(keystate[RightArrow]&&posX++,keystate[LeftArrow]&&posX--,keystate[DownArrow]&&posY++,keystate[UpArrow]&&posY--,steps--,checkRoom(),$('#player').css('left',gridSize*posX+'px'),$('#player').css('top',gridSize*posY+'px'),$('#stepCounter').html('<p>steg kvar: '+steps+'</p>'),console.log('position X är nu: '+posX+' position Y är nu: '+posY),console.log('du står i '+grid[posX][posY]))});